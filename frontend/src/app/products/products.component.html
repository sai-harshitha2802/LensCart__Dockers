<app-header></app-header>
<div class="container my-5">
  <h2 class="text-center mb-4">Shop All Products</h2>

  <!-- ðŸ” Filter Section -->
  <div class="row mb-4">
    <div class="col-md-4 offset-md-4">
      <select class="form-select" [(ngModel)]="selectedType" (change)="applyFilters()">
        <option value="">All Categories</option>
        <option *ngFor="let type of uniqueTypes" [value]="type">{{ type | titlecase }}</option>
      </select>
    </div>
    <div class="col-md-2">
      <button class="btn btn-secondary w-100" (click)="clearFilters()">Clear Filter</button>
    </div>
  </div>

  <!-- ðŸ›ï¸ Product Cards -->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
    <div class="col" *ngFor="let product of filteredProducts">
      <div class="card h-100 shadow-sm border-0">
        <img [src]="product.imageUrl" class="card-img-top img-fluid" [alt]="product.imageUrl"
          style="height: 200px; object-fit: contain;">

        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ product.brand }}</h5>
          <p class="card-text text-muted">{{ product.description }}</p>
          <p class="card-text"><strong>Price:</strong> â‚¹{{ product.price }}</p>
          <p class="card-text"><strong>Available:</strong> {{ product.quantity }}</p>
<div *ngIf="product.quantity>0;else Out Of Stock">
          <button class="btn btn-outline-primary mt-auto" (click)="addToCart(product)">
            Add to Cart
          </button>
          </div>
          <ng-template #Out Of Stock>
<span style="color:red;font-weight: bold;">Out Of Stock</span>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>